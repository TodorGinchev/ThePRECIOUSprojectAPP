{
  "version": 79,
  "rules" : [

    /*
            MI TYPE 1 subapps
            FAVOURITE_ACTIVITY("favourite_activity");
            OUTCOME_GOAL("outcome_goal"), --> what do I want

            MI TYPE 2 subapps
            IMPORTANCE_RULER("importance_ruler"),
            PHYSICAL_ACTIVITY_CHANGE("physical_activity_change"), -->whats next

            MI TYPE 3 subapps
            TIME_MACHINE("time_machine"),
            CONFIDENCE_RULER("confidence_ruler"),
    */

    {
      "_id": "UH intervention transition",
      "name": "UH intervention_transition",
      "description": "transition between UH intervention states",
      "triggers": [
        {
          "key": "$time_all"
        }
      ],
      "actions": [
        {
          "key": "$set_uh_intervention_state",
          "parameters": [
            {
              "definedBy": "parameter",
              "value": {
                "definedBy": "lookup",
                "lookupValue": {
                  "type": "table",
                  "parameter": {
                    "tableId": "table_uh_intervention_states",
                    "row" : {
                      "definedBy": "data",
                      "key" : "$uh_participant_id"
                    },
                    "column":  {
                      "definedBy": "data",
                      "key": "$uh_trial_current_day"
                    }
                  }
                }
              },
              "key": "state"
            }
          ]
        }
      ],
      "operation": {
        "type": "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator": "$neq",
          "name" : "compare test lookup table to test intervention state",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type" : "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key":"$uh_trial_current_day"
                  }
                }
              }
            },
            {
              "definedBy": "data",
              "key": "$uh_intervention_state"
            }
          ]
        }
      ],
      "created": 1471816112000,
      "priority" : 100
    },

     //default intervention state == 0
    {
      "_id": "UH intervention type 0",
      "name": "UH_intervention_type_0",
      "description": "UH trial intervention state 0",
      "triggers": [
        {
          "key": "$uh_intervention_0"
        }
      ],


      "actions": [
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]
        },

        /*MI TYPE 2 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    // Intervention type 1  -- only mountain view enabled -- MI And FB disabled
    {
      "_id": "UH intervention type 1",
      "name": "UH_intervention_type_1",
      "description": "UH trial intervention state 1",
      "triggers": [
        {
          "key": "$uh_intervention_1"
        }
      ],
      "actions": [

        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]
        },

        /*MI TYPE 2 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    // Intervention type 2 -- Mountainview & all MI components enabled -- FB disabled
     {
      "_id": "UH intervention type 2",
      "name": "UH_intervention_type_2",
      "description": "UH trial intervention state 2",
      "triggers": [
        {
          "key": "$uh_intervention_2"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]
        },

        /*MI TYPE 2 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    // Intervention type 3 -- Mountain view and MI Type 1 enabled.. Everything else disabled
    {
      "_id": "UH intervention type 3",
      "name": "UH_intervention_type_3",
      "description": "UH trial intervention state 3",
      "triggers": [
        {
          "key": "$uh_intervention_3"
        }
      ],
      "actions": [

        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]
        },

        /*MI TYPE 2 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        /* Firstbeat */
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    // Intervention type 4  -- Mountain view and MI Type 2 enabled .. Everything else disabled

    {
      "_id": "UH intervention type 4",
      "name": "UH_intervention_type_4",
      "description": "UH trial intervention state 4",
      "triggers": [
        {
          "key": "$uh_intervention_4"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]
        },

        /*MI TYPE 2 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Intervention type 5 --  Mountain view and MI Type 3 enabled .. Everything else disabled

    {
      "_id": "UH intervention type 5",
      "name": "UH_intervention_type_5",
      "description": "UH trial intervention state 5",
      "triggers": [
        {
          "key": "$uh_intervention_0"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]
        },

        /*MI TYPE 2 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Intervention type 6 --  Mountain view and Firstbeat enabled.. Everything else disabled

    {
      "_id": "UH intervention type 6",
      "name": "UH_intervention_type_6",
      "description": "UH trial intervention state 6",
      "triggers": [
        {
          "key": "$uh_intervention_6"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]
        },

        /*MI TYPE 2 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        /* Firstbeat enabled */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Intervention type 7 --  Mountain view, All MI Types and FB enabled

    {
      "_id": "UH intervention type 7",
      "name": "UH_intervention_type_7",
      "description": "UH trial intervention state 7",
      "triggers": [
        {
          "key": "$uh_intervention_7"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]

        },

        /*MI TYPE 2 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        /* Firstbeat enabled */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Intervention type 8 --  Mountain view, MI Type 1 and FB enabled

    {
      "_id": "UH intervention type 8",
      "name": "UH_intervention_type_8",
      "description": "UH trial intervention state 8",
      "triggers": [
        {
          "key": "$uh_intervention_8"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]

        },

        /*MI TYPE 2 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        /* Firstbeat enabled */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Intervention type 9 --  Mountain view, MI Type 2 and FB enabled

    {
      "_id": "UH intervention type 9",
      "name": "UH_intervention_type_9",
      "description": "UH trial intervention state 9",
      "triggers": [
        {
          "key": "$uh_intervention_9"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]

        },

        /*MI TYPE 2 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        /* Firstbeat enabled */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Intervention type 10 --  Mountain view, MI Type 3 and FB enabled

    {
      "_id": "UH intervention type 10",
      "name": "UH_intervention_type_10",
      "description": "UH trial intervention state 10",
      "triggers": [
        {
          "key": "$uh_intervention_10"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy":"user",
              "value": "Trial Day -> $uh_trial_current_day , Trial State -> $uh_intervention_state ",
              "key":"eng"
            }
          ]
        },
        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "mountain_climber",
              "key":"type"
            }
          ]
        },

        /* MI TYPE 1 */
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "favourite_activity",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "outcome_goal",
              "key":"type"
            }
          ]

        },

        /*MI TYPE 2 */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "importance_ruler",
              "key":"type"
            }
          ]
        },
        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "physical_activity_change",
              "key":"type"
            }
          ]
        },

        /* MI Type 3 */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "confidence_ruler",
              "key":"type"
            }
          ]
        },

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "time_machine",
              "key":"type"
            }
          ]
        },

        /* Firstbeat enabled */

        {
          "key": "$enable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "firstbeat",
              "key":"type"
            }
          ]
        },

        /* disabled by default */

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "food_diary",
              "key":"type"
            }
          ]
        },


        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "dietary_challenge",
              "key":"type"
            }
          ]
        },

        {
          "key": "$disable_application",
          "parameters": [
            {
              "definedBy":"user",
              "value": "wearable",
              "key":"type"
            }
          ]
        }
      ],
      "operation": {
        "type":  "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator" : "$eq",
          "name" : "always_true",
          "parameters": [
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            },
            {
              "definedBy" : "user",
              "userDefinedValue" : 1
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },


    //Conditions used for firstbeat notifications
    //c0 -> uh_trial_state_yesterday >= 6
    //c1 -> uh_trial_state_yesterday <=10
    //c2 -> uh_trial_state_today >= 6
    //c3 -> uh_trial_state_today <= 10
    //c4 -> uh_trial_state_tomorrow >=6
    //c5 -> uh_trial_state_tomorrow <=10


    // Rule for firstbeat notification one day before upload at time_19
    //trigger $test_time_19
    // condition (c0&&c1) && !(c2&&c3)
    {
      "_id": "Firstbeat Reminder before upload",
      "name": "firstbeat_reminder_before_upload",
      "description": "A reminder notification for firstbeat today",
      "triggers": [
        {
          "key": "$test_time_19"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy": "user",
              "value": "Today is the day! Please wear your Bodyguard 2 device today and upload the data tomorrow",
              "key": "eng"
            }
          ]
        }
      ],
      "operation": {
        "type": "$and",
        "conditions": [
          {
            "type": "$operation",
            "value": {
              "type": "$and",
              "conditions": [
                {
                  "value": 0,
                  "type": "$reference"
                },
                {
                  "value": 1,
                  "type": "$reference"
                }
              ]
            }
          },
          {
            "type": "$not",
            "conditions": [
              {
                "type": "$operation",
                "value": {
                  "type": "$and",
                  "conditions": [
                    {
                      "value": 2,
                      "type": "$reference"
                    },
                    {
                      "value": 3,
                      "type": "$reference"
                    }
                  ]
                }
              }
            ]
          }
        ]
      },
      "conditions": [
        {
          "comparator": "$gte",
          "name": "Yesterday check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_yesterday"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Yesterday check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_yesterday"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ],
          "created": 145881885990,
          "priority": 50
        },
        {
          "comparator": "$gte",
          "name": "Today check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_current_day"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Today check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_current_day"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ]
        },
        {
          "comparator": "$gte",
          "name": "Tomorrow check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_tomorrow"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Tomorrow check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_tomorrow"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Rule for firstbeat notification on upload day
    //trigger $test_time_09
    // condition (c2&&c3) && !(c0&&c1)
    {
      "_id": "Firstbeat Reminder on upload day",
      "name": "firstbeat_reminder_upload_day",
      "description": "A reminder notification for firstbeat today",
      "triggers": [
    {
      "key": "$test_time_09"
    }
  ],
      "actions": [
    //State notification
    {
      "key": "$show_notification",
      "parameters": [
        {
          "definedBy": "user",
          "value": "Today is the day! Please wear your Bodyguard 2 device today and upload the data tomorrow",
          "key": "eng"
        }
      ]
    }
  ],
      "operation": {
        "type": "$and",
        "conditions": [
          {
            "type": "$operation",
            "value": {
              "type": "$and",
              "conditions": [
                {
                  "value": 2,
                  "type": "$reference"
                },
                {
                  "value": 3,
                  "type": "$reference"
                }
              ]
            }
          },
          {
            "type": "$not",
            "conditions": [
              {
              "type": "$operation",
              "value": {
                "type": "$and",
                "conditions": [
                  {
                    "value": 0,
                    "type": "$reference"
                  },
                  {
                    "value": 1,
                    "type": "$reference"
                   }
                ]
               }
              }
            ]
          }
        ]
      },
      "conditions": [
        {
          "comparator": "$gte",
          "name": "Yesterday check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_yesterday"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Yesterday check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_yesterday"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ],
          "created": 145881885990,
          "priority": 50
        },
        {
          "comparator": "$gte",
          "name": "Today check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_current_day"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Today check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_current_day"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ]
        },
        {
          "comparator": "$gte",
          "name": "Tomorrow check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_tomorrow"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Tomorrow check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_tomorrow"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Rule for firstbeat notification one day after upload day
    // condition (c0&&c1) && !(c4&&c5)
    //trigger $test_time_09
    {
      "_id": "Firstbeat Reminder after upload",
      "name": "firstbeat_reminder_after_upload",
      "description": "A notification for firstbeat after upload day",
      "triggers": [
        {
          "key": "$test_time_09"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy": "user",
              "value": "We hope you slept well. Please upload the data from your FB device to get a report on your activity, sleep and stress levels",
              "key": "eng"
            }
          ]
        }
      ],
      "operation": {
        "type": "$and",
        "conditions": [
          {
            "type": "$operation",
            "value": {
              "type": "$and",
              "conditions": [
                {
                  "value": 0,
                  "type": "$reference"
                },
                {
                  "value": 1,
                  "type": "$reference"
                }
              ]
            }
          },
          {
            "type": "$not",
            "conditions": [
              {
                "type": "$operation",
                "value": {
                  "type": "$and",
                  "conditions": [
                    {
                      "value": 4,
                      "type": "$reference"
                    },
                    {
                      "value": 5,
                      "type": "$reference"
                    }
                  ]
                }
              }
            ]
          }
        ]
      },
      "conditions": [
        {
          "comparator": "$gte",
          "name": "Yesterday check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_yesterday"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Yesterday check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_yesterday"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ],
          "created": 145881885990,
          "priority": 50
        },
        {
          "comparator": "$gte",
          "name": "Today check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_current_day"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Today check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_current_day"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ]
        },
        {
          "comparator": "$gte",
          "name": "Tomorrow check against uh_states lower bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_tomorrow"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 6
            }
          ]
        },
        {
          "comparator": "$lte",
          "name": "Tomorrow check against uh_states upper bound",
          "parameters": [
            {
              "definedBy": "lookup",
              "lookupValue": {
                "type": "table",
                "parameter": {
                  "tableId": "table_uh_intervention_states",
                  "row": {
                    "definedBy": "data",
                    "key": "$uh_participant_id"
                  },
                  "column": {
                    "definedBy": "data",
                    "key": "$uh_trial_tomorrow"
                  }
                }
              }
            },
            {
              "definedBy": "user",
              "userDefinedValue": 10
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Rules for Behavior and Goal Progress Feedback

    //Notificaiton Behavior Feedback
    {
      "_id": "Behavior feedback notification",
      "name": "behavior_feedback_notification",
      "description": "A notification for behavior feedback",
      "triggers": [
        {
          "key": "$test_time_16"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy": "user",
              "value": "You've taken $steps_today steps today. Keep going!",
              "key": "eng"
            }
          ]
        }
      ],
      "operation": {
        "type": "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator": "$eq",
          "name": "Is daily goal not set",
          "parameters": [
            {
              "definedBy": "data",
              "key": "$goal_set_for_today"
            },
            {
              "definedBy": "user",
              "userDefinedValue": 0
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    },

    //Notificaiton Behavior & Goal Progress Feedback
    {
      "_id": "behavior and goal progress feedback",
      "name": "behaviour_goal_progress_feedback",
      "description": "A notification for behavior and goal progress feedback",
      "triggers": [
        {
          "key": "$test_time_16"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy": "user",
              "value": "You've taken $steps_today steps today - that's $daily_goal_today_percentage of your goal. Keep going",
              "key": "eng"
            }
          ]
        }
      ],
      "operation": {
        "type": "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator": "$eq",
          "name": "Is daily goal set",
          "parameters": [
            {
              "definedBy": "data",
              "key": "$goal_set_for_today"
              },
             {
              "definedBy": "user",
              "userDefinedValue": 1
            }
          ]
        }
        ],
      "created": 145881885990,
      "priority": 50
    },

    //Goal Achievement Feedback
    //TODO: Vibration of wrist band when rule executed
    {
      "_id": "Notification on goal achievement",
      "name": "notification_on_goal_achievement",
      "description": "A notification when daily goal is achieved",
      "triggers": [
        {
          "key": "$time_all"
        }
      ],
      "actions": [
        //State notification
        {
          "key": "$show_notification",
          "parameters": [
            {
              "definedBy": "user",
              "value": "You've achieved your step goal for today!  Well done :-)",
              "key": "eng"
            }
          ]
        }
      ],
      "operation": {
        "type": "$and",
        "conditions": [
          {
            "value": 0,
            "type": "$reference"
          }
        ]
      },
      "conditions": [
        {
          "comparator": "$gte",
          "name": "Is goal achieved",
          "parameters": [
            {
              "definedBy": "data",
              "key": "$steps_today"
            },
            {
              "definedBy": "data",
              "key": "$goal_set_for_today"
            }
          ]
        }
      ],
      "created": 145881885990,
      "priority": 50
    }

      ],



  "data" : [
    {
      "name": "uh table",
      "description": "the table for getting uh_intervention states",
      "type" : "table",
      "_id": "table_uh_intervention_states",
      "value": {
        "columns": [
          { "row": [0,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [1,8,6,3,8,8,6,8,3,8,1,1,3] },
          { "row": [6,6,3,8,8,6,8,3,8,1,1,3] },
          { "row": [6,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [1,1,3,6,4,4,1,4,9,1,6,6,6] },
          { "row": [4,3,6,4,4,1,4,9,1,6,6,6] },
          { "row": [5,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [8,6,9,1,6,6,8,6,1,6,3,3,1] },
          { "row": [8,9,1,6,6,8,6,1,6,3,3,1] },
          { "row": [1,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [2,4,1,9,1,1,4,1,6,4,9,9,9] },
          { "row": [3,4,1,9,1,1,4,1,6,4,9,9,9] },
          { "row": [10,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [10,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [3,1,6,1,5,1,6,10,6,10,5,6,5] },
          { "row": [1,1,6,1,5,1,6,10,6,10,5,6,5] },
          { "row": [6,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [6,10,1,6,6,6,1,3,5,3,8,5,6] },
          { "row": [1,10,1,6,6,6,1,3,5,3,8,5,6] },
          { "row": [2,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [7,3,10,5,1,5,10,6,8,6,1,8,1] },
          { "row": [8,3,10,5,1,5,10,6,8,6,1,8,1] },
          { "row": [1,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [4,6,3,8,8,8,3,1,1,1,6,1,8] },
          { "row": [9,6,3,8,8,8,3,1,1,1,6,1,8] },
          { "row": [7,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [2,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [9,1,4,9,9,4,9,9,4,9,6,9,9] },
          { "row": [10,1,4,9,9,4,9,9,4,9,6,9,9] },
          { "row": [7,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [5,6,6,5,1,10,1,1,10,1,1,1,5] },
          { "row": [7,6,6,5,1,10,1,1,10,1,1,1,5] },
          { "row": [7,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [2,4,1,6,6,1,6,6,1,6,9,6,6] },
          { "row": [9,4,1,6,6,1,6,6,1,6,9,6,6] },
          { "row": [10,1,1,1,1,1,1,1,1,1,1,1,1] },
          { "row": [1,10,10,1,5,6,5,5,6,5,5,5,1] },
          { "row": [6,10,10,1,5,6,5,5,6,5,5,5,1] },
          { "row": [6,1,1,1,1,1,1,1,1,1,1,1] }
        ]
      }
    }
  ]
}